import{cK as u,R as h,j as e}from"./vendor-DX97-qL9.js";import{m,l as d,o as t}from"./ui-components-DWjWyKd7.js";import{u as g}from"./useScrollMemory-C8VkSb5_.js";import{P as b,a as f,b as x,c as p,d as j,e as v,f as P}from"./page-profile-Bm2vJ3_O.js";import{u as T,l as N}from"./page-fridge-BvAjnJpI.js";import"./utils-CUtLAp28.js";import"./supabase-C_rF2iqf.js";import"./page-fridge-scan-ZLPWYd6x.js";import"./stores-DcNfcD_j.js";import"./motion-DLE-fuXv.js";import"./forms-BNC8g0IA.js";import"./date-utils-sCOX3Ksr.js";function y(i){switch(i){case"identity":return{icon:"User",title:"Identité Personnelle",subtitle:"Vos informations de base et mesures corporelles",circuit:"home",color:"#60A5FA"};case"nutrition":return{icon:"Utensils",title:"Forge Nutritionnelle",subtitle:"Régime, allergies et préférences alimentaires",circuit:"meals",color:"#10B981"};case"health":return{icon:"Heart",title:"Santé & Médical",subtitle:"Conditions médicales et contraintes de santé",circuit:"health",color:"#EF4444"};case"fasting":return{icon:"Timer",title:"Jeûne Intermittent",subtitle:"Protocoles de jeûne et objectifs nutritionnels",circuit:"fasting",color:"#F59E0B"};case"preferences":case"training":return{icon:"Dumbbell",title:"Atelier de Training",subtitle:"Vos programmes d'entraînement personnalisés",circuit:"training",color:"#18E3FF"};case"geo":return{icon:"MapPin",title:"Geo & Environnement",subtitle:"Données géographiques et contexte sanitaire local",circuit:"home",color:"#EC4899"};case"avatar":return{icon:"Camera",title:"Avatar 3D",subtitle:"Votre reflet numérique et données morphologiques",circuit:"avatar",color:"#A855F7"};default:return{icon:"User",title:"Profil Utilisateur",subtitle:"Votre fiche personnelle complète",circuit:"home",color:"#60A5FA"}}}const D=()=>{const i=u(),{click:o}=T(),r=h.useMemo(()=>{const n=new URLSearchParams(i.search).get("tab");if(n&&["identity","nutrition","health","fasting","training","geo","avatar"].includes(n))return n;const s=i.hash.replace("#","");return s&&["identity","nutrition","health","fasting","preferences","geo","avatar"].includes(s)?s:"identity"},[i.hash,i.search]);m(),g(`profile:${r}`);const a=y(r),c=l=>{o(),N.debug("PROFILE","Tab change triggered",{newTab:l})};return e.jsxs("div",{className:"space-y-6 w-full overflow-visible",children:[e.jsx(d,{icon:a.icon,title:a.title,subtitle:a.subtitle,circuit:a.circuit,iconColor:a.color}),e.jsxs(t,{defaultValue:"identity",value:r,className:"w-full min-w-0 profile-tabs",onValueChange:c,forgeContext:"profile",children:[e.jsxs(t.List,{role:"tablist","aria-label":"Sections du profil",className:"mb-6 w-full",children:[e.jsx(t.Trigger,{value:"identity",icon:"User",children:e.jsx("span",{className:"tab-text",children:"Identité"})}),e.jsx(t.Trigger,{value:"nutrition",icon:"Utensils",children:e.jsx("span",{className:"tab-text",children:"Nutrition"})}),e.jsx(t.Trigger,{value:"preferences",icon:"Dumbbell",children:e.jsx("span",{className:"tab-text",children:"Training"})}),e.jsx(t.Trigger,{value:"fasting",icon:"Timer",children:e.jsx("span",{className:"tab-text",children:"Jeûne"})}),e.jsx(t.Trigger,{value:"health",icon:"Heart",children:e.jsx("span",{className:"tab-text",children:"Santé"})}),e.jsx(t.Trigger,{value:"geo",icon:"MapPin",children:e.jsx("span",{className:"tab-text",children:"Geo"})}),e.jsx(t.Trigger,{value:"avatar",icon:"Camera",children:e.jsx("span",{className:"tab-text",children:"Avatar"})})]}),e.jsx(t.Panel,{value:"identity",children:e.jsx(b,{})}),e.jsx(t.Panel,{value:"nutrition",children:e.jsx(f,{})}),e.jsx(t.Panel,{value:"health",children:e.jsx(x,{})}),e.jsx(t.Panel,{value:"preferences",children:e.jsx(p,{})}),e.jsx(t.Panel,{value:"fasting",children:e.jsx(j,{})}),e.jsx(t.Panel,{value:"geo",children:e.jsx(v,{})}),e.jsx(t.Panel,{value:"avatar",children:e.jsx(P,{})})]})]})};export{D as default};
