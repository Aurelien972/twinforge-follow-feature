import{r as x,j as a}from"./vendor-BefW7Bxj.js";import{G as S,S as C,I as A,K as y}from"./ui-components-lrK_WhZu.js";import{a as E}from"./page-fridge-Cp-W9isk.js";const v=()=>{const{mode:n,isPerformanceMode:t}=E();return x.useMemo(()=>n==="high-performance"||t?{isPerformanceMode:!0,mode:"high-performance",enableFramerMotion:!1,enableAnimatePresence:!1,enableWhileHover:!1,enableWhileTap:!1,enableInitialAnimations:!1,enableExitAnimations:!1,enableCSSAnimations:!1,enableBreathingAnimations:!1,enablePulseAnimations:!1,enableParticleEffects:!1,enableShimmerEffects:!1,enableCelebrationEffects:!1,enableBackdropFilter:!1,enableComplexShadows:!1,enableGradientAnimations:!1,enableBlurEffects:!1,enableScanLineOverlays:!1,enableAnalysisGrids:!1,enableDataParticles:!1,enableGlowEffects:!1,imageLoadingStrategy:"lazy",imageFetchPriority:"auto"}:n==="balanced"?{isPerformanceMode:!1,mode:"balanced",enableFramerMotion:!0,enableAnimatePresence:!0,enableWhileHover:!0,enableWhileTap:!0,enableInitialAnimations:!0,enableExitAnimations:!1,enableCSSAnimations:!0,enableBreathingAnimations:!0,enablePulseAnimations:!0,enableParticleEffects:!1,enableShimmerEffects:!0,enableCelebrationEffects:!0,enableBackdropFilter:!0,enableComplexShadows:!1,enableGradientAnimations:!1,enableBlurEffects:!0,enableScanLineOverlays:!0,enableAnalysisGrids:!0,enableDataParticles:!1,enableGlowEffects:!0,imageLoadingStrategy:"lazy",imageFetchPriority:"auto"}:{isPerformanceMode:!1,mode:"quality",enableFramerMotion:!0,enableAnimatePresence:!0,enableWhileHover:!0,enableWhileTap:!0,enableInitialAnimations:!0,enableExitAnimations:!0,enableCSSAnimations:!0,enableBreathingAnimations:!0,enablePulseAnimations:!0,enableParticleEffects:!0,enableShimmerEffects:!0,enableCelebrationEffects:!0,enableBackdropFilter:!0,enableComplexShadows:!0,enableGradientAnimations:!0,enableBlurEffects:!0,enableScanLineOverlays:!0,enableAnalysisGrids:!0,enableDataParticles:!0,enableGlowEffects:!0,imageLoadingStrategy:"eager",imageFetchPriority:"high"},[n,t])},M="_wrap_jbk5k_11",N="_card_jbk5k_18",G="_grid_jbk5k_32",w="_icon_jbk5k_42",L="_iconHalo_jbk5k_66",B="_iconGlyph_jbk5k_77",F="_center_jbk5k_83",I="_title_jbk5k_91",$="_subtitle_jbk5k_102",H="_rail_jbk5k_112",O="_seg_jbk5k_120",W="_segPurple_jbk5k_128",T="_segPurpleLight_jbk5k_132",z="_isCurrent_jbk5k_136",D="_isComplete_jbk5k_140",q="_fill_jbk5k_144",K="_fillPurple_jbk5k_152",R="_fillPurpleLight_jbk5k_158",J="_step_jbk5k_165",Q="_percent_jbk5k_174",e={wrap:M,card:N,grid:G,icon:w,iconHalo:L,iconGlyph:B,center:F,title:I,subtitle:$,rail:H,seg:O,segPurple:W,segPurpleLight:T,isCurrent:z,isComplete:D,fill:q,fillPurple:K,fillPurpleLight:R,step:J,percent:Q},U={capture:"Camera",processing:"Scan",review:"Eye",complete:"Check"},Z=({steps:n,currentStepId:t,progress:i,message:d,subMessage:b,className:p=""})=>{const u=v(),r=Number.isFinite(i)?Math.min(100,Math.max(0,i)):0,f=100/n.length,l=Math.max(0,n.findIndex(o=>o.id===t)),h=l*f,_=Math.max(0,Math.min(1,(r-h)/f)),g=U[t]||"Scan";return a.jsx("div",{className:`${e.wrap} ${p}`,children:a.jsx(S,{className:e.card,children:a.jsxs("div",{className:e.grid,"data-body-forge":!0,children:[a.jsxs("div",{className:e.icon,children:[a.jsx("div",{className:e.iconHalo}),a.jsx(C,{Icon:A[g],size:26,className:e.iconGlyph})]}),a.jsxs("div",{className:e.center,children:[a.jsx("h2",{className:e.title,children:d||"Forge Corporelle"}),b&&a.jsx("p",{className:e.subtitle,children:b}),a.jsx("div",{className:e.rail,role:"progressbar","aria-valuenow":Math.round(r),"aria-valuemin":0,"aria-valuemax":100,children:n.map((o,s)=>{const c=s<l,m=s===l,k=c?"100%":m?`${_*100}%`:"0%",P=s%2===0?e.segPurple:e.segPurpleLight,j=s%2===0?e.fillPurple:e.fillPurpleLight;return a.jsx("div",{className:`${e.seg} ${P} ${c?e.isComplete:""} ${m?e.isCurrent:""}`,children:(c||m)&&a.jsx(y,{as:"span",className:`${e.fill} ${j}`,initial:u.enableInitialAnimations?{width:0}:!1,animate:{width:k},transition:u.enableFramerMotion?{duration:.3,ease:"easeOut"}:void 0})},o.id)})}),a.jsxs("div",{className:e.step,children:["Ã‰tape ",l+1," sur ",n.length]})]}),a.jsxs("div",{className:e.percent,"aria-hidden":"true",children:[Math.round(r),"%"]})]})})})};export{Z as B,v as u};
