import{j as s}from"./vendor-DX97-qL9.js";import{G as f,S as P,I as N}from"./ui-components-DWjWyKd7.js";import{m as C}from"./motion-DLE-fuXv.js";const v="_wrap_jbk5k_11",S="_card_jbk5k_18",$="_grid_jbk5k_32",w="_icon_jbk5k_42",I="_iconHalo_jbk5k_66",L="_iconGlyph_jbk5k_77",y="_center_jbk5k_83",G="_title_jbk5k_91",M="_subtitle_jbk5k_102",H="_rail_jbk5k_112",E="_seg_jbk5k_120",O="_segPurple_jbk5k_128",z="_segPurpleLight_jbk5k_132",B="_isCurrent_jbk5k_136",F="_isComplete_jbk5k_140",T="_fill_jbk5k_144",R="_fillPurple_jbk5k_152",q="_fillPurpleLight_jbk5k_158",A="_step_jbk5k_165",D="_percent_jbk5k_174",e={wrap:v,card:S,grid:$,icon:w,iconHalo:I,iconGlyph:L,center:y,title:G,subtitle:M,rail:H,seg:E,segPurple:O,segPurpleLight:z,isCurrent:B,isComplete:F,fill:T,fillPurple:R,fillPurpleLight:q,step:A,percent:D},J={capture:"Camera",processing:"Scan",review:"Eye",complete:"Check"},V=({steps:t,currentStepId:o,progress:_,message:m,subMessage:p,className:k=""})=>{const r=Number.isFinite(_)?Math.min(100,Math.max(0,_)):0,d=100/t.length,i=Math.max(0,t.findIndex(n=>n.id===o)),u=i*d,h=Math.max(0,Math.min(1,(r-u)/d)),j=J[o]||"Scan";return s.jsx("div",{className:`${e.wrap} ${k}`,children:s.jsx(f,{className:e.card,children:s.jsxs("div",{className:e.grid,"data-body-forge":!0,children:[s.jsxs("div",{className:e.icon,children:[s.jsx("div",{className:e.iconHalo}),s.jsx(P,{Icon:N[j],size:26,className:e.iconGlyph})]}),s.jsxs("div",{className:e.center,children:[s.jsx("h2",{className:e.title,children:m||"Forge Corporelle"}),p&&s.jsx("p",{className:e.subtitle,children:p}),s.jsx("div",{className:e.rail,role:"progressbar","aria-valuenow":Math.round(r),"aria-valuemin":0,"aria-valuemax":100,children:t.map((n,l)=>{const a=l<i,c=l===i,g=a?"100%":c?`${h*100}%`:"0%",b=l%2===0?e.segPurple:e.segPurpleLight,x=l%2===0?e.fillPurple:e.fillPurpleLight;return s.jsx("div",{className:`${e.seg} ${b} ${a?e.isComplete:""} ${c?e.isCurrent:""}`,children:(a||c)&&s.jsx(C.span,{className:`${e.fill} ${x}`,initial:{width:0},animate:{width:g},transition:{duration:.45,ease:"easeOut"}})},n.id)})}),s.jsxs("div",{className:e.step,children:["Ã‰tape ",i+1," sur ",t.length]})]}),s.jsxs("div",{className:e.percent,"aria-hidden":"true",children:[Math.round(r),"%"]})]})})})};export{V as B};
