/**
 * MOBILE SELECTIVE BLUR - BALANCED
 *
 * Replace SOME backdrop-blur with solid backgrounds on mobile
 * Keep blur for navigation elements (header, bottom bar, chat)
 *
 * Goal: Performance + Brand Identity
 */

/* =========================================
   GLASS CARDS - Solid backgrounds (performance)
   ========================================= */

.mobile-device .glass-card,
.mobile-device .glass-base,
.mobile-device .glass-card-cta {
  /* Replace transparent glass with solid dark background */
  background: #0F1927 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  /* Keep simple border */
  border-color: rgba(255, 255, 255, 0.1) !important;

  /* Simple shadow instead of complex glows */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

/* Remove pseudo-element effects that create square shadows */
.mobile-device .glass-card::before,
.mobile-device .glass-card::after,
.mobile-device .glass-card-cta::before,
.mobile-device .glass-card-cta::after {
  display: none !important;
}

/* =========================================
   HEADER - LIGHT BLUR (preserve identity)
   ========================================= */

.mobile-device .header-liquid-glass {
  /* Semi-transparent with light blur */
  background: rgba(15, 25, 39, 0.92) !important;
  backdrop-filter: blur(8px) saturate(130%) !important;
  -webkit-backdrop-filter: blur(8px) saturate(130%) !important;

  /* Simple shadow */
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3) !important;
}

/* =========================================
   BOTTOM BAR - LIGHT BLUR (preserve identity)
   ========================================= */

.mobile-device .new-mobile-bottom-bar-container {
  /* Semi-transparent with light blur */
  background: rgba(15, 25, 39, 0.92) !important;
  backdrop-filter: blur(8px) saturate(130%) !important;
  -webkit-backdrop-filter: blur(8px) saturate(130%) !important;

  box-shadow: 0 -2px 12px rgba(0, 0, 0, 0.3) !important;
}

/* Bottom bar icon containers keep their glass effect */
.mobile-device .new-bottom-bar-icon-container {
  backdrop-filter: blur(8px) saturate(130%) !important;
  -webkit-backdrop-filter: blur(8px) saturate(130%) !important;
}

/* =========================================
   HEADER BUTTONS - LIGHT BLUR
   ========================================= */

.mobile-device .header-liquid-glass .glass-orb-button,
.mobile-device .header-liquid-glass button {
  backdrop-filter: blur(8px) saturate(130%) !important;
  -webkit-backdrop-filter: blur(8px) saturate(130%) !important;
}

/* =========================================
   SIDEBAR/DRAWER - Solid background
   ========================================= */

.mobile-device .sidebar,
.mobile-device .mobile-drawer,
.mobile-device [class*="drawer"]:not(.global-chat-drawer):not(.unified-coach-drawer),
.mobile-device [role="dialog"]:not([class*="chat"]) {
  background: rgba(15, 25, 39, 0.98) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* =========================================
   MODALS/OVERLAYS - Solid backgrounds
   ========================================= */

.mobile-device [class*="modal"],
.mobile-device [class*="overlay"],
.mobile-device [role="alertdialog"] {
  background: rgba(15, 25, 39, 0.98) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* Modal backdrop - solid dark */
.mobile-device [class*="backdrop"],
.mobile-device [class*="overlay"]::before {
  background: rgba(0, 0, 0, 0.8) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* =========================================
   TOOLTIPS/POPOVERS - Solid backgrounds
   ========================================= */

.mobile-device [role="tooltip"],
.mobile-device [class*="tooltip"],
.mobile-device [class*="popover"] {
  background: #1A2332 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* =========================================
   FLOATING ELEMENTS - LIGHT BLUR (preserve identity)
   ========================================= */

.mobile-device .floating-chat-button,
.mobile-device .floating-voice-coach-button,
.mobile-device [class*="floating"]:not([class*="floating-generate"]) {
  /* Semi-transparent with light blur */
  background: rgba(247, 147, 30, 0.88) !important;
  backdrop-filter: blur(6px) saturate(120%) !important;
  -webkit-backdrop-filter: blur(6px) saturate(120%) !important;
}

/* =========================================
   CHAT/VOICE COMPONENTS - LIGHT BLUR
   ========================================= */

.mobile-device .voice-coach-panel,
.mobile-device .global-chat-drawer,
.mobile-device .unified-coach-drawer,
.mobile-device [class*="chat-"]:not(.glass-card) {
  background: rgba(15, 25, 39, 0.92) !important;
  backdrop-filter: blur(8px) saturate(130%) !important;
  -webkit-backdrop-filter: blur(8px) saturate(130%) !important;
}

/* =========================================
   GENERIC CARDS - Solid backgrounds
   ========================================= */

.mobile-device [class*="card-"]:not(.new-bottom-bar-icon-container):not(.glass-orb-button) {
  background: #0F1927 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* =========================================
   SHEEN/SPOTLIGHT EFFECTS - Remove
   ========================================= */

.mobile-device .glass-sheen,
.mobile-device [class*="sheen"],
.mobile-device [class*="spotlight"] {
  display: none !important;
  opacity: 0 !important;
}

/* =========================================
   FALLBACK: Media query based
   ========================================= */

@media (max-width: 768px), (hover: none), (pointer: coarse) {
  /* Solid glass cards by default */
  .glass-card:not(.header-liquid-glass):not(.new-mobile-bottom-bar-container):not(.floating-chat-button):not(.floating-voice-coach-button) {
    background: #0F1927 !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  /* Light blur for navigation */
  .header-liquid-glass,
  .new-mobile-bottom-bar-container {
    backdrop-filter: blur(8px) saturate(130%) !important;
    -webkit-backdrop-filter: blur(8px) saturate(130%) !important;
  }

  /* Light blur for floating buttons */
  .floating-chat-button,
  .floating-voice-coach-button {
    backdrop-filter: blur(6px) saturate(120%) !important;
    -webkit-backdrop-filter: blur(6px) saturate(120%) !important;
  }
}

/* =========================================
   LOW-END DEVICES: Reduce blur further
   ========================================= */

@media (max-width: 480px) {
  /* Only navigation keeps minimal blur on very small screens */
  .header-liquid-glass,
  .new-mobile-bottom-bar-container {
    backdrop-filter: blur(6px) !important;
    -webkit-backdrop-filter: blur(6px) !important;
  }

  .glass-card:not(.header-liquid-glass):not(.new-mobile-bottom-bar-container) {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
}
