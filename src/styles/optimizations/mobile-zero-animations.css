/**
 * MOBILE SIMPLIFIED ANIMATIONS - BALANCED
 *
 * This file REDUCES animations on mobile devices while preserving visual identity
 * Applied via .mobile-device class added by DeviceProvider
 *
 * Goal: 60fps scroll while maintaining brand coherence
 */

/* =========================================
   TARGETED ANIMATION REDUCTION
   Only kill decorative animations, not functional ones
   ========================================= */

/* KILL decorative animations only */
.mobile-device [class*="breathing"],
.mobile-device [class*="pulse"]:not(.new-bottom-bar-icon-container):not(.glass-orb-button),
.mobile-device [class*="glow"]:not(.floating-chat-button):not(.floating-voice-coach-button),
.mobile-device [class*="shimmer"],
.mobile-device [class*="float"],
.mobile-device [class*="bounce"],
.mobile-device [class*="particle"],
.mobile-device [class*="spark"],
.mobile-device [class*="circuit"],
.mobile-device [class*="ember"] {
  animation: none !important;
  filter: none !important;
}

/* =========================================
   TAP FEEDBACK FOR INTERACTIVE ELEMENTS
   ========================================= */

.mobile-device button:active,
.mobile-device [role="button"]:active,
.mobile-device .glass-card:active {
  transform: scale(0.98) translateZ(0) !important;
  transition: transform 0.08s ease-out !important;
}

/* =========================================
   ESSENTIAL LOADERS/SPINNERS
   ========================================= */

.mobile-device .loader-essential,
.mobile-device [class*="spinner"],
.mobile-device [aria-busy="true"] > [class*="spin"] {
  animation: spin-simple 2s linear infinite !important;
}

@keyframes spin-simple {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* =========================================
   DISABLE DECORATIVE CORNER SQUARES IN HEADER
   ========================================= */

.mobile-device .header-corner-square,
.mobile-device header [class*="corner-square"] {
  animation: none !important;
  opacity: 0 !important;
  display: none !important;
}

/* =========================================
   DISABLE BORDER/GLOW ANIMATIONS ON NAVIGATION
   ========================================= */

.mobile-device .header-liquid-glass::before,
.mobile-device .header-liquid-glass::after,
.mobile-device .new-mobile-bottom-bar-container::before,
.mobile-device .new-mobile-bottom-bar-container::after {
  animation: none !important;
}

/* =========================================
   INSTANT SCROLL REVEAL (no animation delay)
   ========================================= */

.mobile-device .glass-card-scroll-reveal,
.mobile-device [data-scroll-reveal],
.mobile-device [data-scroll-visible],
.mobile-device [data-scroll-active] {
  opacity: 1 !important;
  transition: none !important;
}

/* =========================================
   DISABLE HOVER EFFECTS (handled in hover.css)
   ========================================= */

.mobile-device *:hover {
  /* Hover effects disabled via media queries in hover.css */
}

/* =========================================
   SIMPLIFY FRAMER MOTION
   ========================================= */

.mobile-device [data-framer-motion] {
  /* Reduce Framer Motion animation duration */
  animation-duration: 0.15s !important;
  transition-duration: 0.15s !important;
}

/* =========================================
   SIMPLIFY MODAL/DRAWER ANIMATIONS
   ========================================= */

.mobile-device [role="dialog"],
.mobile-device [class*="modal"],
.mobile-device [class*="drawer"],
.mobile-device [class*="overlay"] {
  animation-duration: 0.2s !important;
  transition-duration: 0.2s !important;
}

/* =========================================
   DISABLE FLOATING BUTTON DECORATIVE ANIMATIONS
   ========================================= */

.mobile-device .floating-chat-button--step2::before,
.mobile-device .floating-chat-button--step2 .button-icon {
  animation: none !important;
}

.mobile-device .floating-chat-button--step2-notification {
  animation: none !important;
}

/* =========================================
   FALLBACK: Media query based
   ========================================= */

@media (max-width: 768px), (hover: none), (pointer: coarse) {
  /* Reduce animation duration by default */
  * {
    animation-duration: 0.15s !important;
    transition-duration: 0.15s !important;
  }

  /* Keep tap feedback */
  button:active,
  [role="button"]:active {
    transform: scale(0.98) translateZ(0) !important;
    transition: transform 0.08s ease-out !important;
  }

  /* Keep essential loaders */
  .loader-essential {
    animation: spin-simple 2s linear infinite !important;
  }
}

/* =========================================
   REDUCED MOTION: Honor user preference
   ========================================= */

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
