/**
 * MOBILE SIMPLIFIED ANIMATIONS - BALANCED
 *
 * This file REDUCES animations on mobile devices while preserving visual identity
 * Applied via .mobile-device class added by DeviceProvider
 *
 * Goal: 60fps scroll while maintaining brand coherence
 */

/* =========================================
   TARGETED ANIMATION REDUCTION
   Only kill decorative animations, not functional ones
   ========================================= */

/* KILL decorative animations only */
.mobile-device [class*="breathing"],
.mobile-device [class*="pulse"]:not(.new-bottom-bar-icon-container):not(.glass-orb-button),
.mobile-device [class*="glow"]:not(.floating-chat-button):not(.floating-voice-coach-button),
.mobile-device [class*="shimmer"],
.mobile-device [class*="float"],
.mobile-device [class*="bounce"],
.mobile-device [class*="particle"],
.mobile-device [class*="spark"],
.mobile-device [class*="circuit"],
.mobile-device [class*="ember"] {
  animation: none !important;
  filter: none !important;
}

/* =========================================
   TAP FEEDBACK FOR INTERACTIVE ELEMENTS
   ========================================= */

.mobile-device button:active,
.mobile-device [role="button"]:active,
.mobile-device .glass-card:active {
  transform: scale(0.98) translateZ(0) !important;
  transition: transform 0.08s ease-out !important;
}

/* =========================================
   ESSENTIAL LOADERS/SPINNERS
   ========================================= */

.mobile-device .loader-essential,
.mobile-device [class*="spinner"],
.mobile-device [aria-busy="true"] > [class*="spin"] {
  animation: spin-simple 2s linear infinite !important;
}

@keyframes spin-simple {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* =========================================
   DISABLE DECORATIVE CORNER SQUARES EVERYWHERE
   ========================================= */

.mobile-device .header-corner-square,
.mobile-device header [class*="corner-square"],
.mobile-device [class*="corner-particle"],
.mobile-device .corner-particle,
.mobile-device .training-hero-corners {
  animation: none !important;
  opacity: 0 !important;
  display: none !important;
}

/* Hide corner squares in all glass cards */
.mobile-device .glass-card [class*="corner"],
.mobile-device [data-corner],
.mobile-device [class*="corner-square"] {
  animation: none !important;
  opacity: 0 !important;
  display: none !important;
}

/* =========================================
   DISABLE BORDER/GLOW ANIMATIONS ON NAVIGATION
   ========================================= */

.mobile-device .header-liquid-glass::before,
.mobile-device .header-liquid-glass::after,
.mobile-device .new-mobile-bottom-bar-container::before,
.mobile-device .new-mobile-bottom-bar-container::after {
  animation: none !important;
}

/* =========================================
   DISABLE BACKGROUND GRADIENT ANIMATIONS
   ========================================= */

/* Disable borderPulse and glowPulse everywhere */
.mobile-device [class*="glass-card"]::before,
.mobile-device [class*="glass-card"]::after,
.mobile-device .glass-card::before,
.mobile-device .glass-card::after {
  animation: none !important;
}

/* Disable all pseudo-element animations */
.mobile-device *::before,
.mobile-device *::after {
  animation: borderPulse 0s !important;
  animation: glowPulse 0s !important;
  animation: activePulse 0s !important;
}

/* Disable gradient position animations */
.mobile-device [style*="background-position"],
.mobile-device [style*="background-size"] {
  animation: none !important;
  background-position: center !important;
}

/* =========================================
   INSTANT SCROLL REVEAL (no animation delay)
   ========================================= */

.mobile-device .glass-card-scroll-reveal,
.mobile-device [data-scroll-reveal],
.mobile-device [data-scroll-visible],
.mobile-device [data-scroll-active] {
  opacity: 1 !important;
  transition: none !important;
}

/* =========================================
   DISABLE HOVER EFFECTS (handled in hover.css)
   ========================================= */

.mobile-device *:hover {
  /* Hover effects disabled via media queries in hover.css */
}

/* =========================================
   SIMPLIFY FRAMER MOTION
   ========================================= */

.mobile-device [data-framer-motion] {
  /* Reduce Framer Motion animation duration */
  animation-duration: 0.15s !important;
  transition-duration: 0.15s !important;
}

/* =========================================
   SIMPLIFY MODAL/DRAWER ANIMATIONS
   ========================================= */

.mobile-device [role="dialog"],
.mobile-device [class*="modal"],
.mobile-device [class*="drawer"],
.mobile-device [class*="overlay"] {
  animation-duration: 0.2s !important;
  transition-duration: 0.2s !important;
}

/* =========================================
   DISABLE FLOATING BUTTON DECORATIVE ANIMATIONS
   ========================================= */

.mobile-device .floating-chat-button--step2::before,
.mobile-device .floating-chat-button--step2 .button-icon {
  animation: none !important;
}

.mobile-device .floating-chat-button--step2-notification {
  animation: none !important;
}

/* =========================================
   DISABLE SHIMMER EFFECTS ON BUTTONS
   ========================================= */

.mobile-device button [class*="shimmer"],
.mobile-device [class*="shimmer-effect"],
.mobile-device [data-shimmer] {
  animation: none !important;
  opacity: 0 !important;
  display: none !important;
}

/* Disable gradient sweep animations in buttons */
.mobile-device button > div[class*="absolute"][class*="inset"],
.mobile-device button > motion\.div[class*="absolute"] {
  animation: none !important;
  transform: translateX(0) !important;
}

/* =========================================
   DISABLE BUBBLE AND PARTICLE ANIMATIONS
   ========================================= */

.mobile-device [class*="bubble"],
.mobile-device [class*="particle"],
.mobile-device [data-bubble],
.mobile-device [data-particle] {
  animation: none !important;
  opacity: 0 !important;
  display: none !important;
}

/* Disable pulsating rings and halos */
.mobile-device [class*="pulse-ring"],
.mobile-device [class*="halo"],
.mobile-device div[class*="absolute"][class*="inset-0"][class*="rounded-full"][class*="border"] {
  animation: none !important;
  opacity: 0 !important;
  display: none !important;
}

/* =========================================
   DISABLE BREATHING ICON ANIMATIONS
   ========================================= */

.mobile-device [class*="breathing"],
.mobile-device [class*="icon-container"][style*="scale"] {
  animation: none !important;
  transform: none !important;
}

/* Freeze motion.div scales for icons */
.mobile-device motion\.div[style*="scale"] {
  animation: none !important;
}

/* =========================================
   DISABLE SKELETON PULSE ANIMATIONS
   ========================================= */

.mobile-device [class*="skeleton"],
.mobile-device [class*="Skeleton"],
.mobile-device [data-skeleton] {
  animation: none !important;
  background: rgba(255, 255, 255, 0.08) !important;
}

/* Keep only essential loaders animated */
.mobile-device .loader-essential,
.mobile-device [aria-busy="true"] [class*="Loader"],
.mobile-device [class*="spinner"] {
  animation: spin-simple 2s linear infinite !important;
}

/* =========================================
   OPTIMIZE CENTRAL ACTIONS MENU ON MOBILE
   ========================================= */

.mobile-device .central-actions-menu,
.mobile-device .central-actions-panel {
  animation-duration: 0.15s !important;
  transition-duration: 0.15s !important;
}

/* Disable staggered animations in pills */
.mobile-device .central-actions-menu button {
  animation-delay: 0s !important;
  transition-delay: 0s !important;
}

/* Disable glow pulses on menu buttons */
.mobile-device .central-actions-menu [class*="glow"],
.mobile-device .avatar-twin-button {
  animation: none !important;
}

/* =========================================
   DISABLE AVATAR BUTTON FLASH ON LOAD
   ========================================= */

.mobile-device .glass-orb-button--avatar,
.mobile-device [class*="avatar-button"] {
  animation: none !important;
}

/* =========================================
   OPTIMIZE SIDEBAR ON MOBILE
   ========================================= */

/* Simplify sidebar open/close animations */
.mobile-device .sidebar,
.mobile-device [class*="sidebar"],
.mobile-device .sidebar-glass-enhanced {
  transition-duration: 0.2s !important;
}

/* Disable decorative effects in sidebar */
.mobile-device .sidebar [class*="glow"],
.mobile-device .sidebar [class*="shimmer"],
.mobile-device .sidebar-glass-enhanced::before,
.mobile-device .sidebar-glass-enhanced::after {
  animation: none !important;
}

/* Disable hover effects on sidebar items */
.mobile-device .sidebar-item:hover {
  animation: none !important;
}

/* Simplify sidebar item transitions */
.mobile-device .sidebar-item,
.mobile-device .sidebar-nav-item-container {
  transition-duration: 0.15s !important;
}

/* =========================================
   FALLBACK: Media query based
   ========================================= */

@media (max-width: 768px), (hover: none), (pointer: coarse) {
  /* Reduce animation duration by default */
  * {
    animation-duration: 0.15s !important;
    transition-duration: 0.15s !important;
  }

  /* Keep tap feedback */
  button:active,
  [role="button"]:active {
    transform: scale(0.98) translateZ(0) !important;
    transition: transform 0.08s ease-out !important;
  }

  /* Keep essential loaders */
  .loader-essential {
    animation: spin-simple 2s linear infinite !important;
  }
}

/* =========================================
   REDUCED MOTION: Honor user preference
   ========================================= */

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
