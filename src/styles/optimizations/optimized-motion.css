/**
 * Optimized Motion CSS
 * Styles for elements using OptimizedMotion in high-performance mode
 */

/* Base optimized motion element */
.optimized-motion-element {
  /* Fast CSS transitions only */
  transition: transform 0.15s ease, background-color 0.15s ease, opacity 0.15s ease !important;

  /* GPU acceleration for transforms */
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform: translateZ(0);
}

/* Hover state for interactive elements (desktop only) */
@media (hover: hover) and (pointer: fine) {
  .optimized-motion-element:hover:not(:disabled) {
    transform: scale(1.02) translateZ(0);
  }
}

/* Active/tap state for all devices */
.optimized-motion-element:active:not(:disabled) {
  transform: scale(0.95) translateZ(0) !important;
  transition-duration: 0.1s !important;
}

/* Disabled state */
.optimized-motion-element:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none !important;
}

/* Remove will-change after interaction to free resources */
.optimized-motion-element:not(:hover):not(:active) {
  will-change: auto;
}

/* Button-specific optimizations */
button.optimized-motion-element,
[role="button"].optimized-motion-element {
  /* Ensure buttons are tappable on mobile */
  min-height: 44px;
  min-width: 44px;

  /* Prevent text selection on tap */
  -webkit-user-select: none;
  user-select: none;

  /* Remove tap highlight on mobile */
  -webkit-tap-highlight-color: transparent;
}

/* Link-specific optimizations */
a.optimized-motion-element {
  /* Smooth color transitions */
  transition: color 0.15s ease, transform 0.15s ease;
}

/* Card/container optimizations */
.optimized-motion-element[role="article"],
.optimized-motion-element[role="region"] {
  /* Lighter transform for larger elements */
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

@media (hover: hover) and (pointer: fine) {
  .optimized-motion-element[role="article"]:hover,
  .optimized-motion-element[role="region"]:hover {
    transform: translateY(-2px) translateZ(0);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
}

/* Mode-specific overrides */
.mode-high-performance .optimized-motion-element:hover {
  /* Even lighter hover effect in high-performance mode */
  transform: scale(1.01) translateZ(0);
}

.mode-balanced .optimized-motion-element {
  /* Slightly longer transitions in balanced mode */
  transition-duration: 0.2s;
}

.mode-quality .optimized-motion-element {
  /* This class shouldn't be used in quality mode (uses Framer Motion) */
  /* But if it is, use full duration */
  transition-duration: 0.3s;
}

/* Prevent layout shift during animations */
.optimized-motion-element-container {
  /* Contain layout shifts within component */
  contain: layout style;
}

/* Mobile touch optimization */
@media (max-width: 768px) {
  .optimized-motion-element {
    /* Faster transitions on mobile */
    transition-duration: 0.1s !important;
  }

  .optimized-motion-element:active:not(:disabled) {
    /* More pronounced tap feedback on mobile */
    transform: scale(0.93) translateZ(0) !important;
  }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .optimized-motion-element,
  .optimized-motion-element:hover,
  .optimized-motion-element:active {
    transition: none !important;
    transform: none !important;
    animation: none !important;
  }
}
