/* =========================================
   PERFORMANCE MODE - iPhone 10 Optimization
   Global CSS overrides for performance mode
   ========================================= */

/* =========================================
   GLASS EFFECTS - Solid backgrounds
   ========================================= */

.performance-mode .glass-card,
.performance-mode .glass-base,
.performance-mode .glass-card-cta {
  /* Replace transparency with solid dark blue */
  background: #0F1927 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  /* Keep only simple box-shadow, remove all glows */
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;

  /* Remove border transparency */
  border-color: rgba(255, 255, 255, 0.1) !important;
}

/* =========================================
   SKELETON CONTAINERS FIX
   Conteneurs de squelettes doivent rester semi-transparents
   ========================================= */

.performance-mode .glass-card.skeleton-container,
.performance-mode [class*="skeleton-"] .glass-card,
.performance-mode [class*="Skeleton"] .glass-card {
  /* Semi-transparent pour ne pas cacher le contenu */
  background: rgba(15, 25, 39, 0.6) !important;
  border: 1px solid rgba(255, 255, 255, 0.06);
}

/* Squelettes eux-mêmes restent visibles */
.performance-mode .skeleton-shimmer {
  /* Gradient simple pour animation légère */
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.03) 0%,
    rgba(255, 255, 255, 0.06) 50%,
    rgba(255, 255, 255, 0.03) 100%
  ) !important;
  background-size: 200% 100%;
  animation: shimmer-performance 2s ease-in-out infinite !important;
}

@keyframes shimmer-performance {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.performance-mode .skeleton-glow::after {
  /* Pas de glow complexe, juste un pulse simple */
  display: none !important;
}

.performance-mode .animate-pulse-subtle {
  /* Pulse très subtil pour ne pas consommer de ressources */
  animation: pulse-performance 3s ease-in-out infinite !important;
}

@keyframes pulse-performance {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.92; }
}

/* Remove pseudo-element glows and highlights */
.performance-mode .glass-card::before,
.performance-mode .glass-card::after,
.performance-mode .glass-card-cta::before,
.performance-mode .glass-card-cta::after {
  display: none !important;
}

/* Disable sheen completely */
.performance-mode .glass-sheen {
  display: none !important;
}

/* =========================================
   HOVER EFFECTS - Disabled
   ========================================= */

.performance-mode .glass-card:hover,
.performance-mode .glass-card-cta:hover {
  transform: none !important;
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: none !important;
}

/* =========================================
   ICONS - No glows or halos
   ========================================= */

.performance-mode .spatial-icon,
.performance-mode .icon-container {
  /* Remove all glows and filters */
  filter: none !important;

  /* Solid background for interactive icons */
  background: #1A2332 !important;
}

.performance-mode .spatial-icon:hover {
  filter: none !important;
}

/* Remove icon halos */
.performance-mode .spatial-icon > div[class*="absolute"] {
  display: none !important;
}

/* =========================================
   PAGE HEADER ICONS - Keep visible and functional
   ========================================= */

.performance-mode header .breathing-icon,
.performance-mode header [class*="breathing"] {
  /* Keep icon container visible */
  opacity: 1 !important;
  display: flex !important;
}

.performance-mode header .breathing-icon > div {
  /* Simplified icon background - solid with subtle gradient */
  background: linear-gradient(135deg, #1A2332 0%, #0F1927 100%) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  /* Simple shadow instead of complex glows */
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2) !important;

  /* Keep border visible */
  border: 2px solid rgba(255, 255, 255, 0.15) !important;
}

/* Page header icon itself - keep visible with solid color */
.performance-mode header .spatial-icon {
  /* Remove filters but keep icon visible */
  filter: none !important;
  background: transparent !important;

  /* Ensure icon color is visible */
  color: currentColor !important;
  opacity: 0.95 !important;
}

/* Icon SVG elements - ensure visibility */
.performance-mode header .spatial-icon svg,
.performance-mode header .spatial-icon path {
  opacity: 1 !important;
  fill: currentColor !important;
}

/* =========================================
   ANIMATIONS - All disabled
   ========================================= */

.performance-mode * {
  animation: none !important;
  transition: none !important;
}

/* Exception: keep tap feedback for better UX */
.performance-mode .glass-card:active,
.performance-mode .glass-card-cta:active,
.performance-mode .spatial-icon:active {
  transform: scale(0.98) !important;
  transition: transform 0.08s ease-out !important;
}

/* =========================================
   FRAMER MOTION - Disable animations
   ========================================= */

.performance-mode [data-framer-motion] {
  animation: none !important;
  transform: none !important;
}

/* =========================================
   CIRCUITS AND EFFECTS - Disabled
   ========================================= */

.performance-mode [class*="breathing"],
.performance-mode [class*="pulse"],
.performance-mode [class*="glow"],
.performance-mode [class*="shimmer"],
.performance-mode [class*="float"] {
  animation: none !important;
  filter: none !important;
  opacity: 1 !important;
}

/* =========================================
   SHADOWS - Simplified
   ========================================= */

.performance-mode [class*="shadow"] {
  /* Remove all colored shadows and glows */
  filter: none !important;
}

.performance-mode [style*="box-shadow"] {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

/* =========================================
   LOADERS - Essential only
   ========================================= */

.performance-mode .loader-essential {
  /* Keep essential loaders but simplify */
  animation: icon-spin-css 2s linear infinite !important;
}

/* =========================================
   GRADIENTS - Optimized in gradient-optimizations.css
   Gradients are now handled in dedicated file for better control
   ========================================= */

/* Gradient optimizations moved to src/styles/optimizations/gradient-optimizations.css
   for comprehensive mapping of all 647 gradient occurrences */

/* =========================================
   WILL-CHANGE - Remove all
   ========================================= */

.performance-mode * {
  will-change: auto !important;
}

/* =========================================
   SCROLL REVEAL - Disabled
   ========================================= */

.performance-mode .glass-card-scroll-reveal,
.performance-mode [data-scroll-reveal] {
  opacity: 1 !important;
  transform: none !important;
}

/* =========================================
   PAGE HEADER AND NAVIGATION - Keep intact but optimized
   Navigation elements get simplified but functional styling
   ========================================= */

/* Header: Keep functional but remove expensive effects */
.performance-mode header {
  /* Don't use 'all: revert' - be specific instead */
  animation: none !important;
}

/* Header text shadows - keep minimal for readability */
.performance-mode header h1,
.performance-mode header .page-header-title {
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.6) !important;
}

.performance-mode header p,
.performance-mode header .page-header-subtitle {
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5) !important;
}

/* Navigation elements - keep functional */
.performance-mode .sidebar,
.performance-mode .mobile-drawer,
.performance-mode .bottom-bar,
.performance-mode .floating-chat-button {
  /* Keep visible and functional, just no animations */
  animation: none !important;
}

/* =========================================
   BACKDROP EFFECTS - Disabled
   ========================================= */

.performance-mode [style*="backdrop-filter"],
.performance-mode [style*="-webkit-backdrop-filter"] {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* =========================================
   FILTERS - All removed
   ========================================= */

.performance-mode [style*="filter:"],
.performance-mode [class*="blur"],
.performance-mode [class*="saturate"] {
  filter: none !important;
}

/* =========================================
   OPACITY ANIMATIONS - Static
   ========================================= */

.performance-mode [style*="opacity"] {
  /* Keep opacity but remove transitions */
  transition: none !important;
}

/* =========================================
   TRANSFORMS - Static except tap feedback
   ========================================= */

.performance-mode [style*="transform"]:not(:active) {
  transform: none !important;
}

/* =========================================
   Z-INDEX - Simplified stacking
   ========================================= */

.performance-mode * {
  /* Reset complex z-index stacks */
  isolation: auto !important;
  contain: none !important;
}
