/**
 * CRITICAL FIX: Mobile Icon Visibility
 * Ensures all SpatialIcon components are visible on mobile
 * MUST be loaded AFTER mobile-radical.css to override
 */

/* =========================================
   FORCE ICON VISIBILITY ON MOBILE
   ========================================= */

/* All spatial icons MUST be visible */
.spatial-icon,
.icon-container {
  display: flex !important;
  opacity: 1 !important;
  visibility: visible !important;
  align-items: center !important;
  justify-content: center !important;
  position: relative !important;
}

/* Ensure SVG icons are visible */
.spatial-icon svg,
.icon-container svg {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

/* Mobile specific overrides */
@media (max-width: 1024px), (hover: none), (pointer: coarse) {
  .spatial-icon,
  .icon-container,
  .spatial-icon *,
  .icon-container * {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* Ensure lucide icons are visible */
  .spatial-icon svg,
  .icon-container svg,
  .lucide,
  .lucide-icon {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
  }
}

/* PageHeader icons */
.breathing-icon,
.page-header-title,
.page-header-subtitle {
  display: flex !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.breathing-icon svg,
.breathing-icon .spatial-icon,
.breathing-icon .icon-container {
  display: flex !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Header navigation icons */
.header-liquid-glass .spatial-icon,
.header-liquid-glass .icon-container,
.user-panel-toggle .spatial-icon,
.user-panel-toggle .icon-container {
  display: flex !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Bottom bar navigation icons */
.new-mobile-bottom-bar .spatial-icon,
.new-mobile-bottom-bar .icon-container,
.new-bottom-bar-icon-container .spatial-icon,
.new-bottom-bar-button .spatial-icon {
  display: flex !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ensure icon containers have proper size */
.icon-container {
  min-width: fit-content !important;
  min-height: fit-content !important;
}

/* Force icon SVGs to render */
svg.lucide {
  width: 1em !important;
  height: 1em !important;
  display: block !important;
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2 !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
}

/* Device-specific detection fixes */
html[data-device="mobile"] .spatial-icon,
html[data-device="mobile"] .icon-container {
  display: flex !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Emergency fallback for hidden icons */
.is-mobile .spatial-icon[style*="display: none"],
.is-mobile .icon-container[style*="display: none"],
.is-mobile .spatial-icon[style*="opacity: 0"],
.is-mobile .icon-container[style*="opacity: 0"] {
  display: flex !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Prevent filter from hiding icons */
.is-mobile .spatial-icon[style*="filter"],
.is-mobile .icon-container[style*="filter"] {
  filter: none !important;
}

/* Restore minimal styling for visibility */
.is-mobile .spatial-icon svg,
.is-mobile .icon-container svg {
  color: inherit !important;
  stroke: currentColor !important;
}
