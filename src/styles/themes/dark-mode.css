/* =========================================
   DARK MODE THEME - TwinForge Night Theme
   Deep forge colors with enhanced contrast
   ========================================= */

html.theme-dark,
html.theme-dark-active {
  /* Base background colors */
  --bg-primary: #0a0f1e;
  --bg-secondary: #0f172a;
  --bg-tertiary: #1e293b;

  /* Text colors */
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.85);
  --text-tertiary: rgba(255, 255, 255, 0.65);
  --text-muted: rgba(255, 255, 255, 0.45);

  /* Glass adjustments for dark mode */
  --glass-opacity-base: rgba(255, 255, 255, 0.08);
  --glass-opacity-hover: rgba(255, 255, 255, 0.12);
  --glass-border-base: rgba(255, 255, 255, 0.22);

  /* Brand colors remain vibrant */
  --color-plasma-cyan: #18E3FF;
  --color-deep-forge-indigo: #5D3FD3;
  --color-ember-copper: #FF7A45;

  /* Shadows for depth */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
}

/* =========================================
   BASE ELEMENTS
   ========================================= */

html.theme-dark body,
html.theme-dark-active body {
  background: var(--bg-primary);
  color: var(--text-primary);
}

html.theme-dark .glass-card,
html.theme-dark-active .glass-card {
  background: linear-gradient(
    145deg,
    color-mix(in srgb, var(--color-deep-forge-indigo) 6%, rgba(255, 255, 255, 0.08)) 0%,
    color-mix(in srgb, var(--color-plasma-cyan) 3%, rgba(255, 255, 255, 0.06)) 100%
  );

  border-color: color-mix(in srgb, var(--color-plasma-cyan) 18%, rgba(255, 255, 255, 0.22));

  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

html.theme-dark .glass-card:hover,
html.theme-dark-active .glass-card:hover {
  background: linear-gradient(
    145deg,
    color-mix(in srgb, var(--color-deep-forge-indigo) 8%, rgba(255, 255, 255, 0.1)) 0%,
    color-mix(in srgb, var(--color-plasma-cyan) 4%, rgba(255, 255, 255, 0.08)) 100%
  );

  border-color: color-mix(in srgb, var(--color-plasma-cyan) 25%, rgba(255, 255, 255, 0.28));

  box-shadow:
    0 12px 40px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* =========================================
   NAVIGATION
   ========================================= */

html.theme-dark .sidebar-liquid-glass,
html.theme-dark-active .sidebar-liquid-glass {
  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--color-deep-forge-indigo) 8%, var(--bg-primary)) 0%,
    var(--bg-primary) 100%
  );

  border-right-color: color-mix(in srgb, var(--color-plasma-cyan) 15%, rgba(255, 255, 255, 0.18));
}

html.theme-dark .header-liquid-glass,
html.theme-dark-active .header-liquid-glass {
  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--color-deep-forge-indigo) 6%, var(--bg-secondary)) 0%,
    color-mix(in srgb, var(--color-plasma-cyan) 3%, var(--bg-primary)) 100%
  );

  border-bottom-color: color-mix(in srgb, var(--color-plasma-cyan) 15%, rgba(255, 255, 255, 0.18));

  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.08);
}

html.theme-dark .new-mobile-bottom-bar,
html.theme-dark-active .new-mobile-bottom-bar {
  background: linear-gradient(
    0deg,
    color-mix(in srgb, var(--color-deep-forge-indigo) 10%, var(--bg-primary)) 0%,
    color-mix(in srgb, var(--color-plasma-cyan) 4%, var(--bg-secondary)) 100%
  );

  border-top-color: color-mix(in srgb, var(--color-plasma-cyan) 20%, rgba(255, 255, 255, 0.2));

  box-shadow: 0 -1px 0 rgba(255, 255, 255, 0.1);
}

/* =========================================
   BUTTONS
   ========================================= */

html.theme-dark .btn-glass,
html.theme-dark-active .btn-glass {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--color-plasma-cyan) 12%, rgba(255, 255, 255, 0.06)) 0%,
    color-mix(in srgb, var(--color-deep-forge-indigo) 10%, rgba(255, 255, 255, 0.04)) 100%
  );

  border-color: color-mix(in srgb, var(--color-plasma-cyan) 30%, rgba(255, 255, 255, 0.25));

  color: var(--color-plasma-cyan);
}

html.theme-dark .btn-glass:hover,
html.theme-dark-active .btn-glass:hover {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--color-plasma-cyan) 18%, rgba(255, 255, 255, 0.08)) 0%,
    color-mix(in srgb, var(--color-deep-forge-indigo) 14%, rgba(255, 255, 255, 0.06)) 100%
  );

  border-color: color-mix(in srgb, var(--color-plasma-cyan) 40%, rgba(255, 255, 255, 0.3));
}

/* Primary buttons */
html.theme-dark [class*="primary"],
html.theme-dark-active [class*="primary"] {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--color-ember-copper) 25%, var(--color-deep-forge-indigo)) 0%,
    var(--color-deep-forge-indigo) 100%
  );

  border-color: color-mix(in srgb, var(--color-ember-copper) 40%, rgba(255, 255, 255, 0.3));

  color: #ffffff;
}

/* =========================================
   INPUTS & FORMS
   ========================================= */

html.theme-dark input,
html.theme-dark-active input,
html.theme-dark textarea,
html.theme-dark-active textarea,
html.theme-dark select,
html.theme-dark-active select {
  background: color-mix(in srgb, var(--color-deep-forge-indigo) 8%, rgba(255, 255, 255, 0.04));

  border-color: color-mix(in srgb, var(--color-plasma-cyan) 20%, rgba(255, 255, 255, 0.2));

  color: var(--text-primary);
}

html.theme-dark input::placeholder,
html.theme-dark-active input::placeholder,
html.theme-dark textarea::placeholder,
html.theme-dark-active textarea::placeholder {
  color: var(--text-muted);
}

html.theme-dark input:focus,
html.theme-dark-active input:focus,
html.theme-dark textarea:focus,
html.theme-dark-active textarea:focus {
  border-color: color-mix(in srgb, var(--color-plasma-cyan) 35%, rgba(255, 255, 255, 0.3));

  box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-plasma-cyan) 12%, rgba(255, 255, 255, 0.08));
}

/* =========================================
   MODALS & OVERLAYS
   ========================================= */

html.theme-dark .modal-content,
html.theme-dark-active .modal-content,
html.theme-dark .drawer-panel,
html.theme-dark-active .drawer-panel {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--color-deep-forge-indigo) 10%, var(--bg-secondary)) 0%,
    color-mix(in srgb, var(--color-plasma-cyan) 4%, var(--bg-primary)) 100%
  );

  border-color: color-mix(in srgb, var(--color-plasma-cyan) 22%, rgba(255, 255, 255, 0.25));

  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.6);
}

html.theme-dark .modal-backdrop,
html.theme-dark-active .modal-backdrop {
  background: rgba(0, 0, 0, 0.75);
}

/* =========================================
   BADGES & CHIPS
   ========================================= */

html.theme-dark .badge,
html.theme-dark-active .badge,
html.theme-dark [class*="chip"],
html.theme-dark-active [class*="chip"] {
  background: color-mix(in srgb, var(--color-plasma-cyan) 10%, rgba(255, 255, 255, 0.06));

  border-color: color-mix(in srgb, var(--color-plasma-cyan) 25%, rgba(255, 255, 255, 0.2));

  color: var(--color-plasma-cyan);
}

/* =========================================
   ACCENT ELEMENTS
   ========================================= */

html.theme-dark [class*="accent"],
html.theme-dark-active [class*="accent"] {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--color-ember-copper) 20%, rgba(255, 255, 255, 0.08)) 0%,
    color-mix(in srgb, var(--color-ember-copper) 12%, rgba(255, 255, 255, 0.05)) 100%
  );

  border-color: color-mix(in srgb, var(--color-ember-copper) 35%, rgba(255, 255, 255, 0.25));

  color: var(--color-ember-copper);
}

/* =========================================
   CHARTS & VISUALIZATIONS
   ========================================= */

html.theme-dark .recharts-cartesian-axis-line,
html.theme-dark-active .recharts-cartesian-axis-line,
html.theme-dark .recharts-cartesian-grid-horizontal line,
html.theme-dark-active .recharts-cartesian-grid-horizontal line,
html.theme-dark .recharts-cartesian-grid-vertical line,
html.theme-dark-active .recharts-cartesian-grid-vertical line {
  stroke: rgba(255, 255, 255, 0.1);
}

html.theme-dark .recharts-text,
html.theme-dark-active .recharts-text {
  fill: var(--text-secondary);
}

/* =========================================
   SCROLLBARS
   ========================================= */

html.theme-dark ::-webkit-scrollbar-track,
html.theme-dark-active ::-webkit-scrollbar-track {
  background: var(--bg-primary);
}

html.theme-dark ::-webkit-scrollbar-thumb,
html.theme-dark-active ::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--color-plasma-cyan) 15%, rgba(255, 255, 255, 0.15));

  border: 2px solid var(--bg-primary);
}

html.theme-dark ::-webkit-scrollbar-thumb:hover,
html.theme-dark-active ::-webkit-scrollbar-thumb:hover {
  background: color-mix(in srgb, var(--color-plasma-cyan) 25%, rgba(255, 255, 255, 0.25));
}

/* =========================================
   SELECTION
   ========================================= */

html.theme-dark ::selection,
html.theme-dark-active ::selection {
  background: color-mix(in srgb, var(--color-plasma-cyan) 30%, rgba(255, 255, 255, 0.2));
  color: #ffffff;
}

/* =========================================
   DIVIDERS
   ========================================= */

html.theme-dark hr,
html.theme-dark-active hr,
html.theme-dark .divider,
html.theme-dark-active .divider {
  border-color: color-mix(in srgb, var(--color-plasma-cyan) 12%, rgba(255, 255, 255, 0.15));
}

/* =========================================
   LOADING STATES
   ========================================= */

html.theme-dark .skeleton,
html.theme-dark-active .skeleton {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.04) 0%,
    rgba(255, 255, 255, 0.08) 50%,
    rgba(255, 255, 255, 0.04) 100%
  );
}
